/*! corner.js - v0.9.3 - 2019-08-06 */"undefined"==typeof WeakMap&&function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+b+++"__"};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},delete:function(a){var b=a[this.name];return!(!b||b[0]!==a)&&(b[0]=b[1]=void 0,!0)},has:function(a){var b=a[this.name];return!!b&&b[0]===a}},window.WeakMap=c}(),function(a){function b(a){u.push(a),t||(t=!0,p(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=q.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=q.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x||(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}if(!a.JsMutationObserver){var p,q=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))p=setTimeout;else if(window.setImmediate)p=window.setImmediate;else{var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),p=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=q.get(a);d||q.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=q.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=q.get(a);b||q.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=q.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||-1!==a.attributeFilter.indexOf(b)||-1!==a.attributeFilter.indexOf(c)))return a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){if(a.characterData)return a.characterDataOldValue?k(g):e});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(a.relatedNode,function(a){if(a.childList)return e})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g,g._isPolyfilled=!0)}}(self),function(global){function itar(a,b){a&&a.length&&Array.prototype.forEach.call(a,b)}function wrap_cb(a){if(a)return function(){try{a.apply(this,arguments)}catch(a){console.error(a,{arguments:arguments}),setTimeout(function(){throw a},0)}}}function directive(a,b){var c=a.toLowerCase();if(c in directive_map)throw new Error("directive already registered");b instanceof Function&&(b={load:b}),directive_list.push(directive_map[c]={name:c,originalName:a,onload:wrap_cb(b.load||b.alter),onunload:wrap_cb(b.unload),onalter:wrap_cb(b.alter)}),document.body&&itar(document.body.querySelectorAll([c,", [",c,"], .",c].join("")),element_loaded)}function eval_attribute(element,attributeName){if(!attributeName){var attrs={};return itar(element.attributes,function(a){attrs[a.name]=eval_attribute(element,a.name)}),attrs}var attribute=element.attributes[attributeName];try{return eval("({"+attribute.value+"})")}catch(e){try{return eval("("+attribute.value+")")}catch(a){return attribute&&attribute.value}}}function corner_init(){element_loaded(document.body),new MutationObserver(function(a){itar(a,function(a){switch(a.type){case"childList":itar(a.addedNodes,element_loaded_wrapper),itar(a.removedNodes,element_removed_wrapper);break;case"attributes":var b=a.target;if("class"===a.attributeName){var c=(a.oldValue||"").toLowerCase().split(" "),d=(b.className||"").toLowerCase().split(" ");itar(c.filter(function(a){return-1===d.indexOf(a)}),function(a){directive_map[a]&&directive_removed(directive_map[a],b)}),itar(d.filter(function(a){return-1===c.indexOf(a)}),function(a){directive_map[a]&&directive_loaded(directive_map[a],b,"class")})}else if(directive_map[a.attributeName]){var e=directive_map[a.attributeName];b.attributes[a.attributeName]?null!==a.oldValue?directive_altered(e,b,"attribute"):directive_loaded(e,b,"attribute"):directive_removed(e,b)}b[key]&&b[key].$&&directive_altered(b[key].$.directive,b,"tag")}})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0})}function element_loaded_wrapper(a){element_loaded(a),itar(a.children,element_loaded_wrapper)}function element_loaded(a){function b(b){return function(c){directive_loaded(c,a,b)}}if(a.tagName){for(var c=a;c.parentElement;)c=c.parentElement;if(c===document.documentElement){var d=[],e=[],f=[],g=(a.getAttribute("class")||"").toLowerCase().split(" ");directive_list.forEach(function(b){a.tagName.toLowerCase()===b.name&&d.push(b),b.name in a.attributes&&f.push(b),-1!==g.indexOf(b.name)&&e.push(b)}),d.length+e.length+f.length&&(d.forEach(b("tag")),f.forEach(b("attribute")),e.forEach(b("class")))}}}function register_directive(a,b,c){var d=b[key][a.name];return d||(d=b[key][a.name]={type:c,directive:a,scope:{}}),"tag"===c?d.argument=eval_attribute(b):"attribute"===c&&(d.argument=eval_attribute(b,a.name)),"tag"===c&&Object.defineProperty(b[key],"$",{value:d}),d}function directive_loaded(a,b,c){if(b[key]||Object.defineProperty(b,key,{value:{}}),!b[key][a.name]){var d=register_directive(a,b,c);a.onload&&a.onload.call(d.scope,b,d.argument)}}function directive_altered(a,b,c){if(a.onalter){var d=register_directive(a,b,c);a.onalter.call(d.scope,b,d.argument)}}function element_removed_wrapper(a){itar(a.children,element_removed_wrapper),element_removed(a)}function element_removed(a){a[key]&&Object.keys(a[key]).forEach(function(b){var c=directive_map[b],d=register_directive(c,a);c.onunload&&c.onunload.call(d.scope,a,d.argument)})}function directive_removed(a,b){var c=register_directive(a,b);b[key]&&b[key][a.name]&&(a.onunload&&a.onunload.call(c.scope,b,c.argument),delete b[key][a.name])}var directive_map={},directive_list=[],key="__directives__";document.addEventListener("DOMContentLoaded",corner_init),"loading"!==document.readyState&&corner_init(),"module"in global?global.module.exports=directive:"exports"in global?global.exports=directive:global.directive=directive}((0,eval)("this"));